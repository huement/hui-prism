// =============================================================================
// Theme Variants
// =============================================================================
// Lightweight helpers for emitting Hui Prism light/dark styles.

@use 'sass:map';
@use 'sass:meta';
@use '../index' as theme;

@mixin _scoped-theme($selectors, $config) {
  @if meta.type-of($selectors) !='list' {
    $selectors: (
      $selectors,
    );
}

$selector-list: (
);

@each $selector in $selectors {
  $selector-list: append($selector-list, $selector, comma);
}

#{meta.inspect($selector-list)} {
  @include theme.hui-prism-theme($config);
}
}

@mixin dark-theme($config: ()) {
  @include theme.hui-prism-theme(map.merge(('color-scheme': 'dark'), $config));
}

@mixin light-theme($config: ()) {
  @include theme.hui-prism-theme(map.merge(('color-scheme': 'light'), $config));
}

@mixin dual-theme($dark-selectors: (':root'),
  $light-selectors: ('[data-hui-prism-theme="light"]', '[data-bs-theme="light"]'),
  $dark-config: (),
  $light-config: ()) {
  @if meta.type-of($dark-selectors) !='list' {
    $dark-selectors: if($dark-selectors ==null, (), ($dark-selectors, ));
  }

  @if meta.type-of($light-selectors) !='list' {
    $light-selectors: if($light-selectors ==null, (), ($light-selectors, ));
  }

  @if meta.length($dark-selectors)>0 {
    @include _scoped-theme($dark-selectors, map.merge(('color-scheme': 'dark'), $dark-config));
  }

  @else {
    @include dark-theme($dark-config);
  }

  @if meta.length($light-selectors)>0 {
    @include _scoped-theme($light-selectors, map.merge(('color-scheme': 'light'), $light-config));
  }
}